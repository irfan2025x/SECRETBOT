const moment = require('moment-timezone');

module.exports = {
  config: {
    name: "namaj",
    version: "1.0",
    author: "Irfan Ahmed",
    countDown: 20,
    role: 0,
    shortDescription: { vi: "", en: "" },
    longDescription: { vi: "", en: "" },
    category: "general",
    guide: { en: "" },
    envConfig: {}
  },
  onStart: async function ({ message, event }) {
    // рзл ржУрзЯрж╛ржХрзНржд ржирж╛ржорж╛ржЬрзЗрж░ ржирж╛ржо ржУ рж╕рзЛрж░рзНрж╕
    const namajList = [
      {
        name: "Fajr",
        index: 1,
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржлржЬрж░рзЗрж░ ржирж╛ржорж╛ржЬ рзи рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д┘Б╪м╪▒",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржлрж╛ржЬрж░",
        translation: "ржЖржорж┐ ржлржЬрж░рзЗрж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржорзБрж╕рж▓рж┐ржо"
      },
      {
        name: "Dhuhr",
        index: 2,
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржпрзЛрж╣рж░рзЗрж░ ржирж╛ржорж╛ржЬ рзк рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д╪╕┘З╪▒",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржпрзЛрж╣рж░",
        translation: "ржЖржорж┐ ржпрзЛрж╣рж░рзЗрж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржмрзБржЦрж╛рж░рж┐"
      },
      {
        name: "Asr",
        index: 3,
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржЖрж╕рж░рзЗрж░ ржирж╛ржорж╛ржЬ рзк рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д╪╣╪╡╪▒",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржЖрж╕рж░",
        translation: "ржЖржорж┐ ржЖрж╕рж░рзЗрж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржорзБрж╕рж▓рж┐ржо"
      },
      {
        name: "Maghrib",
        index: 4,
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржорж╛ржЧрж░рж┐ржмрзЗрж░ ржирж╛ржорж╛ржЬ рзй рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д┘Е╪║╪▒╪и",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржорж╛ржЧрж░рж┐ржм",
        translation: "ржЖржорж┐ ржорж╛ржЧрж░рж┐ржмрзЗрж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржмрзБржЦрж╛рж░рж┐"
      },
      {
        name: "Isha",
        index: 5,
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржЗрж╢рж╛рж░ ржирж╛ржорж╛ржЬ рзк рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д╪╣╪┤╪з╪б",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржЗрж╢рж╛",
        translation: "ржЖржорж┐ ржЗрж╢рж╛рж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржорзБрж╕рж▓рж┐ржо"
      }
    ];

    // рж╕ржорзЯ ржУ рждрж╛рж░рж┐ржЦ
    const now = moment().tz('Asia/Dhaka');
    const date = now.format('MMMM Do YYYY');
    const time = now.format('h:mm:ss A');

    // ржирж╛ржорж╛ржЬрзЗрж░ ржирж╛ржо ржкрж╛ржарж╛ржирзЛ
    let replyMessage = "ЁЯТлуАК тй╕__ЁЭРНЁЭРЪЁЭРжЁЭРЪЁЭРг ЁЭРЦЁЭРЪЁЭРдЁЭРнЁЭРм__тй╕ уАЛЁЯТл\n";
    namajList.forEach(namaj => {
      replyMessage += `${namaj.index}. ${namaj.name}\n`;
    });

    // ржирж╛ржорж╛ржЬрзЗрж░ ржирж╛ржорзЗрж░ рж╕рж╛ржерзЗ ржмрж╛рж░рзНрждрж╛
    message.reply({
      body: `${replyMessage}\n
ЁЯТлуАК тй╕__ЁЭРБЁЭРиЁЭРн ЁЭРИЁЭРзЁЭРЯЁЭРиЁЭРлЁЭРжЁЭРЪЁЭРнЁЭРвЁЭРиЁЭРз__тй╕ уАЛЁЯТл\n
\ЁЯдЦBOT NAME: тй╕__${global.GoatBot.config.nickNameBot}__тй╕
\ЁЯЧУ DATE: ${date}
\тП░ NOW TIME: ${time}\n
ЁЯФН Information provided by: Irfan Ahmed\n
ЁЯУй Reply with the number of the namaj to get its details.`
    });
  },

  onChat: async function ({ event, message }) {
    const namajList = [
      {
        name: "Fajr",
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржлржЬрж░рзЗрж░ ржирж╛ржорж╛ржЬ рзи рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д┘Б╪м╪▒",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржлрж╛ржЬрж░",
        translation: "ржЖржорж┐ ржлржЬрж░рзЗрж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржорзБрж╕рж▓рж┐ржо"
      },
      {
        name: "Dhuhr",
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржпрзЛрж╣рж░рзЗрж░ ржирж╛ржорж╛ржЬ рзк рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д╪╕┘З╪▒",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржпрзЛрж╣рж░",
        translation: "ржЖржорж┐ ржпрзЛрж╣рж░рзЗрж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржмрзБржЦрж╛рж░рж┐"
      },
      {
        name: "Asr",
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржЖрж╕рж░рзЗрж░ ржирж╛ржорж╛ржЬ рзк рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д╪╣╪╡╪▒",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржЖрж╕рж░",
        translation: "ржЖржорж┐ ржЖрж╕рж░рзЗрж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржорзБрж╕рж▓рж┐ржо"
      },
      {
        name: "Maghrib",
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржорж╛ржЧрж░рж┐ржмрзЗрж░ ржирж╛ржорж╛ржЬ рзй рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д┘Е╪║╪▒╪и",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржорж╛ржЧрж░рж┐ржм",
        translation: "ржЖржорж┐ ржорж╛ржЧрж░рж┐ржмрзЗрж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржмрзБржЦрж╛рж░рж┐"
      },
      {
        name: "Isha",
        niyat: "ржирж┐рзЯржд: ржЖржорж┐ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐рж░ ржЬржирзНржп ржЗрж╢рж╛рж░ ржирж╛ржорж╛ржЬ рзк рж░рж╛ржХржЖржд ржлрж░ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        arabic: "╪г╪╡┘Д┘К ┘Б╪▒╪╢ ╪╡┘Д╪з╪й ╪з┘Д╪╣╪┤╪з╪б",
        transliteration: "ржЖрж╕рж▓рзНрж▓рж┐ ржлрж╛рж░ржж рж╕рж╛рж▓рж╛рждрзБрж▓ ржЗрж╢рж╛",
        translation: "ржЖржорж┐ ржЗрж╢рж╛рж░ ржлрж░ржЬ ржирж╛ржорж╛ржЬ ржЖржжрж╛рзЯ ржХрж░рж┐ред",
        source: "рж╕рж╣рзАрж╣ ржорзБрж╕рж▓рж┐ржо"
      }
    ];

    const replyIndex = parseInt(event.body.trim());
    if (isNaN(replyIndex) || replyIndex < 1 || replyIndex > 5) {
      return message.reply("ржжрзЯрж╛ ржХрж░рзЗ рзз ржерзЗржХрзЗ рзл ржкрж░рзНржпржирзНржд ржПржХржЯрж┐ ржирж╛ржорзНржмрж╛рж░ рж▓рж┐ржЦрзБржиред");
    }

    // ржХрзЛржирзЛ ржнрзБрж▓ ржирж╛ржорзНржмрж╛рж░ ржжрж┐рж▓рзЗ ржкрзЗржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржирж╛ржорзНржмрж╛рж░ ржЪрзЗржХ ржХрж░рждрзЗ ржмрж▓рж╛ рж╣ржмрзЗ
    const namaj = namajList[replyIndex - 1];

    message.reply({
      body: `
ржирж╛ржорж╛ржЬ: ${namaj.name}
ржирж┐рзЯржд: ${namaj.niyat}
ржЖрж░ржмрж┐: ${namaj.arabic}
ржмрж╛ржВрж▓рж╛ ржЙржЪрзНржЪрж╛рж░ржг: ${namaj.transliteration}
ржмрж╛ржВрж▓рж╛ ржЕржирзБржмрж╛ржж: ${namaj.translation}
рж╕рзВрждрзНрж░: ${namaj.source}`
    });
  }
};
